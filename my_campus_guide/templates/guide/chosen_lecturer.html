{% extends 'guide/base.html' %} 
{% load staticfiles %}

{% block title_block %} 
{% if lecturer %}
        {{ lecturer.name }}
    {% else %}
        Unknown Lecturer
    {% endif %}
{% endblock %}

{% block body_block %}
		<script type="text/javascript" src="{% static 'js/forms.js' %}"></script>		
    <div class="jumbotron p-4"> 
            <div class="container">
                {% if lecturer %}
                <h1 class="course_or_lecturer_title">{{ lecturer.name }}</h1>
                <div class="lecturer_description_block" id="lecturer_description_right">
                <p>{% if lecturer.picture %}
                        {{ lecturer.picture }}
                    {% else %}
                        No picture uploaded
                </p>
                <p>Currently Teaching: {{ lecturer.teaching }}</p>
                
                {% endif %}


                <p >Average Rating: {{ lecturer.avg_rating }}/5
                    {% if rating %}
                    <p >{{ rating.rating }}/5</p>
                    {% else %}
                    <p >Submit a rating (Add form)/5</p>
										<button  onClick="showRatingForm()" name="showbutton">Submit a rating</button>
										<input type="text" id="rate" name="rate"  style="display:none;" />
                    {% endif %} 
                </div>
                <div class="lecturer_description_block">
                <p>{{ lecturer.description }}</p>
                </div>


                <div class="comment_section">
								{% if comments %}
                                
									<div class="col">
									  <div class="row">
											<h2>Comments</h2>
											{% if user.is_authenticated %}
												<a href="{% url 'guide:add_lecturer' %}">
													<img src="{% static 'images/add.png' %}" alt="Add lecturer" class="add"/>
												</a>
											{% endif %}
										</div>

										{% for comment in comments %}
											<div class="row">
												<p>User: {{ comment.user }}, posted on: {{ comment.date }}<br>{{ comment.comment }}</p>
											</div>
										{% endfor %}
									</div>
                                </div>
                                {%else%}
                                    <strong>No comments yet</strong>
        
								{% endif %}	
                {% endif %}
            </div>
    </div>

{% endblock %}
